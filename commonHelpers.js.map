{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export function getPhotosByRequest(userRequest) {\n  const API_KEY = '42305362-292fb567d2617ee346426e642';\n\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINTS = '/api/';\n  const PARAMS = `?key=${API_KEY}&q=${userRequest}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + END_POINTS + PARAMS;\n\n  return fetch(url).then(res => res.json());\n}\n\n","import SimpleLightbox from 'simplelightbox';\n\nlet lightBox;\n\nexport const refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('.input-search'),\n  button: document.querySelector('.button'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nexport function photosTemplate(photos) {\n  return photos\n    .map(data => {\n      return `\n      <li class=\"gal-item\"><a href=\"${data.largeImageURL}\">\n            <img class=\"gal-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n            <div class=\"par-sect\">\n            <p> <span class=\"par-informatiom\">Likes</span> <br/> ${data.likes}</p>\n            <p><span class=\"par-informatiom\">Views</span> <br/> ${data.views}</p>\n            <p><span class=\"par-informatiom\">Comments</span> <br/> ${data.comments}</p>\n            <p><span class=\"par-informatiom\">Downloads</span> <br/> ${data.downloads}</p>\n            </div>\n            </li>\n      `;\n    })\n    .join('');\n}\n\nexport function renderPhotos(photos) {\n  const galleryMarkup = photosTemplate(photos);\n  refs.gallery.innerHTML = galleryMarkup;\n\n  if (typeof lightBox !== 'undefined') {\n    lightBox.refresh();\n  } else {\n    lightBox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotosByRequest } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-function';\nimport { refs } from './js/render-function';\n\nrefs.loader.style.display = 'none';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  if (refs.input.value.trim() === '' || refs.input.value.trim().length === 0) {\n    return;\n  }\n  clearGallery();\n  refs.loader.style.display = 'block';\n\n  const userRequest = e.target.elements.search.value;\n  getPhotosByRequest(userRequest)\n    .then(data => {\n      if (data.hits.length === 0) {\n        clearGallery();\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topCenter',\n        });\n      } else {\n        renderPhotos(data.hits);\n      }\n    })\n    .catch(err => {\n      iziToast.error({\n    message: `Error: ${err.message}`,\n  });\n    })\n    .finally(() => {\n      refs.loader.style.display = 'none';\n    });\n\n  e.target.reset();\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}"],"names":["getPhotosByRequest","userRequest","API_KEY","BASE_URL","END_POINTS","PARAMS","url","res","lightBox","refs","photosTemplate","photos","data","renderPhotos","galleryMarkup","SimpleLightbox","onFormSubmit","e","clearGallery","iziToast","err"],"mappings":"6vBAAO,SAASA,EAAmBC,EAAa,CAC9C,MAAMC,EAAU,qCAEVC,EAAW,sBACXC,EAAa,QACbC,EAAS,QAAQH,CAAO,MAAMD,CAAW,2DAEzCK,EAAMH,EAAWC,EAAaC,EAEpC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCRA,IAAIC,EAEG,MAAMC,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,eAAe,EAC7C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEO,SAASC,EAAeC,EAAQ,CACrC,OAAOA,EACJ,IAAIC,GACI;AAAA,sCACyBA,EAAK,aAAa;AAAA,0CACdA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,mEAEXA,EAAK,KAAK;AAAA,kEACXA,EAAK,KAAK;AAAA,qEACPA,EAAK,QAAQ;AAAA,sEACZA,EAAK,SAAS;AAAA;AAAA;AAAA,OAI/E,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAaF,EAAQ,CACnC,MAAMG,EAAgBJ,EAAeC,CAAM,EAC3CF,EAAK,QAAQ,UAAYK,EAErB,OAAON,EAAa,IACtBA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CClCAN,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,KAAK,iBAAiB,SAAUO,CAAY,EAEjD,SAASA,EAAaC,EAAG,CAEvB,GADAA,EAAE,eAAc,EACZR,EAAK,MAAM,MAAM,KAAM,IAAK,IAAMA,EAAK,MAAM,MAAM,OAAO,SAAW,EACvE,OAEFS,IACAT,EAAK,OAAO,MAAM,QAAU,QAE5B,MAAMR,EAAcgB,EAAE,OAAO,SAAS,OAAO,MAC7CjB,EAAmBC,CAAW,EAC3B,KAAKW,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBM,IACAC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACpB,CAAS,GAEDN,EAAaD,EAAK,IAAI,CAE9B,CAAK,EACA,MAAMQ,GAAO,CACZD,EAAS,MAAM,CACjB,QAAS,UAAUC,EAAI,OAAO,EAClC,CAAG,CACH,CAAK,EACA,QAAQ,IAAM,CACbX,EAAK,OAAO,MAAM,QAAU,MAClC,CAAK,EAEHQ,EAAE,OAAO,OACX,CAEA,SAASC,GAAe,CACtBT,EAAK,QAAQ,UAAY,EAC3B"}