{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst inputRef = document.querySelector('#searchInput');\nconst btnRef = document.querySelector('button[type=\"submit\"]');\nconst formRef = document.querySelector('.js-form');\nconst galleryRef = document.querySelector('.gallery');\nconst loaderRef = document.querySelector('.loader');\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nbtnRef.addEventListener('click', onButtonSubmit);\n\nfunction onButtonSubmit(e) {\n  e.preventDefault();\n  const value = inputRef.value.trim();\n  if (!value) return;\n  loaderRef.classList.add('is-shown');\n  formRef.reset();\n  getPhotos(value)\n    .then(photos => {\n      if (!photos.hits.length) {\n        iziToast.error({\n          title: 'Sorry',\n          message:\n            'There are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        loaderRef.classList.remove('is-shown');\n        renderPhotos(photos.hits);\n      }\n    })\n    .catch(error => {\n      console.error('Помилка:', error);\n    });\n}\n\nfunction getPhotos(data) {\n  const url = `https://pixabay.com/api/?key=42305362-292fb567d2617ee346426e642&q=${data}&image_type=photo?orientation=horizontal?safesearch=true`;\n\n  return fetch(url).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw new Error(`Помилка: ${res.status}`);\n    }\n  });\n}\n\nfunction photoTemplate(photo) {\n  return `\n  <li class=\"gallery-item\">\n    <a href=\"${photo.largeImageURL}\">\n    <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\">\n    <div class=\"card-body\">\n      <p class=\"card-text\">Likes: ${photo.likes}</p>\n      <p class=\"card-text\">Views: ${photo.views}</p>\n      <p class=\"card-text\">Comments: ${photo.comments}</p>\n      <p class=\"card-text\">Downloads: ${photo.downloads}</p>\n    </div>\n    </a>\n  </li>`;\n}\n\nfunction renderPhotos(photos) {\n  galleryRef.innerHTML = '';\n  const markup = photos.map(photo => photoTemplate(photo)).join('');\n  galleryRef.innerHTML = markup;\n  lightbox.refresh();\n}\n"],"names":["inputRef","btnRef","formRef","galleryRef","loaderRef","lightbox","SimpleLightbox","onButtonSubmit","e","value","getPhotos","photos","renderPhotos","iziToast","error","data","url","res","photoTemplate","photo","markup"],"mappings":"6vBAMA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAS,SAAS,cAAc,uBAAuB,EACvDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAY,SAAS,cAAc,SAAS,EAClD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDL,EAAO,iBAAiB,QAASM,CAAc,EAE/C,SAASA,EAAeC,EAAG,CACzBA,EAAE,eAAc,EAChB,MAAMC,EAAQT,EAAS,MAAM,KAAI,EAC5BS,IACLL,EAAU,UAAU,IAAI,UAAU,EAClCF,EAAQ,MAAK,EACbQ,EAAUD,CAAK,EACZ,KAAKE,GAAU,CACTA,EAAO,KAAK,QAQfP,EAAU,UAAU,OAAO,UAAU,EACrCQ,EAAaD,EAAO,IAAI,GARxBE,EAAS,MAAM,CACb,MAAO,QACP,QACE,oEACF,SAAU,UACpB,CAAS,CAKT,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,WAAYA,CAAK,CACrC,CAAK,EACL,CAEA,SAASJ,EAAUK,EAAM,CACvB,MAAMC,EAAM,qEAAqED,CAAI,2DAErF,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAIA,EAAI,GACN,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAM,YAAYA,EAAI,MAAM,EAAE,CAE9C,CAAG,CACH,CAEA,SAASC,EAAcC,EAAO,CAC5B,MAAO;AAAA;AAAA,eAEMA,EAAM,aAAa;AAAA,gBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,oCAElBA,EAAM,KAAK;AAAA,oCACXA,EAAM,KAAK;AAAA,uCACRA,EAAM,QAAQ;AAAA,wCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,QAIvD,CAEA,SAASP,EAAaD,EAAQ,CAC5BR,EAAW,UAAY,GACvB,MAAMiB,EAAST,EAAO,IAAIQ,GAASD,EAAcC,CAAK,CAAC,EAAE,KAAK,EAAE,EAChEhB,EAAW,UAAYiB,EACvBf,EAAS,QAAO,CAClB"}